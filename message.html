<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Message Page</title>
  <style>
    :root{
      --bg:#a8abb3;          /* dark background */
      --panel:#111827;       /* panel background */
      --panel-2:#0f172a;     /* sidebar background */
      --muted:#94a3b8;       /* text muted */
      --text:#e5e7eb;        /* text */
      --accent:#22c55e;      /* send button / highlights */
      --danger:#ef4444;
      --bubble-me:#1f2937;
      --bubble-them:#0b5bd7;
      --input:#0b1220;
      --ring:#334155;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(135deg,#0b1220, #111827 60%, #0b1220);
      color:var(--text);
      font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", sans-serif;
    }

    .app{
      height:100dvh;
      display:grid;
      grid-template-columns: 320px 1fr;
      gap:16px;
      padding:16px;
    }

    /* SIDEBAR */
    .sidebar{
      background:var(--panel-2);
      border:1px solid #1f2937;
      border-radius:20px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      box-shadow:var(--shadow);
    }
    .sb-head{
      padding:14px 16px;
      border-bottom:1px solid #1f2937;
      display:flex; gap:10px; align-items:center; justify-content:space-between;
    }
    .search{
      position:relative;
      flex:1;
    }
    .search input{
      width:100%; padding:10px 12px 10px 36px;
      border-radius:12px; border:1px solid #243042; outline:none;
      background:#0a1220; color:var(--text);
    }
    .search svg{ position:absolute; left:10px; top:50%; transform:translateY(-50%); opacity:.7 }
    .chat-list{ overflow:auto; padding:8px; }
    .chat-item{
      display:grid; grid-template-columns: 44px 1fr auto; gap:10px;
      align-items:center; padding:10px; border-radius:14px; cursor:pointer;
    }
    .chat-item:hover{ background:#0e1a2b }
    .chat-item.active{ background:#0e2036; border:1px solid #1e293b }
    .avatar{
      width:44px; height:44px; border-radius:50%;
      background:linear-gradient(135deg,#0ea5e9,#6366f1);
      display:grid; place-items:center; font-weight:700; color:white;
    }
    .ci-name{ font-weight:600 }
    .ci-last{ color:var(--muted); font-size:13px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
    .ci-time{ color:var(--muted); font-size:12px }

    /* CHAT AREA */
    .chat{
      background:var(--panel);
      border:1px solid #1f2937;
      border-radius:20px;
      display:grid;
      grid-template-rows: auto 1fr auto;
      overflow:hidden;
      box-shadow:var(--shadow);
    }
    .chat-head{
      padding:12px 16px; border-bottom:1px solid #1f2937;
      display:flex; align-items:center; gap:12px; justify-content:space-between;
    }
    .user{
      display:flex; align-items:center; gap:10px;
    }
    .user .avatar{ width:40px; height:40px; font-size:14px }

    .tools{ display:flex; gap:6px; }
    .btn{
      border:1px solid #223146; background:#0b1526; color:var(--text);
      padding:8px 10px; border-radius:12px; cursor:pointer;
    }
    .btn:hover{ background:#0e2036 }

    .messages{
      padding:16px; overflow:auto; scroll-behavior:smooth;
      background:
        radial-gradient(1200px 600px at 120% -20%, rgba(34,197,94,0.06), rgba(34,197,94,0) 60%),
        radial-gradient(1000px 500px at -10% 120%, rgba(59,130,246,0.08), rgba(59,130,246,0) 55%);
    }
    .day-sep{
      display:flex; justify-content:center; margin:8px 0 16px;
    }
    .day-sep span{
      border:1px solid #213046; background:#0b1526; color:var(--muted);
      font-size:12px; padding:4px 10px; border-radius:999px;
    }

    .bubble{
      max-width:70ch; padding:10px 12px; border-radius:14px;
      display:inline-block; position:relative; word-wrap:break-word;
      box-shadow:0 6px 18px rgba(0,0,0,.25);
    }
    .row{ display:flex; gap:10px; margin:8px 0; align-items:flex-end; }
    .row.them{ justify-content:flex-start; }
    .row.me{ justify-content:flex-end; }
    .bubble.them{ background:var(--bubble-me); border:1px solid #1f2b3c }
    .bubble.me{ background:var(--bubble-them); border:1px solid #174cae }
    .meta{ font-size:11px; color:#cbd5e1; margin-top:4px; opacity:.75 }

    .typing{ display:none; align-items:center; gap:8px; color:var(--muted); font-size:14px; }
    .dot{ width:6px; height:6px; border-radius:50%; background:var(--muted); opacity:.6; animation:blink 1.2s infinite; }
    .dot:nth-child(2){ animation-delay:.2s } .dot:nth-child(3){ animation-delay:.4s }
    @keyframes blink{ 0%,80%,100%{opacity:.2} 40%{opacity:1} }

    /* INPUT */
    .composer{
      border-top:1px solid #1f2937; padding:10px; display:flex; gap:8px; align-items:center; background:#0c1627;
    }
    .ctrl{
      border:1px dashed #2a3a52; border-radius:12px; padding:8px; cursor:pointer; background:#0a1220;
    }
    .composer input{
      flex:1; padding:12px 12px;
      border-radius:12px; border:1px solid var(--ring); outline:none; background:var(--input); color:var(--text);
    }
    .send{
      padding:11px 16px; border:none; border-radius:12px; background:var(--accent); color:#07120a; font-weight:700; cursor:pointer;
    }
    .send:active{ transform:translateY(1px) }

    /* Responsive */
    @media (max-width: 900px){
      .app{ grid-template-columns: 1fr; }
      .sidebar{ display:none; }
    }

    /* Nice scrollbars */
    .messages::-webkit-scrollbar, .chat-list::-webkit-scrollbar{ width:10px }
    .messages::-webkit-scrollbar-thumb, .chat-list::-webkit-scrollbar-thumb{
      background:#23324a; border-radius:999px;
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sb-head">
        <div class="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M21 21l-4.3-4.3m1.3-5.7a7 7 0 11-14 0 7 7 0 0114 0z"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <input type="text" placeholder="‡§ñ‡•ã‡§ú‡•á‡§Ç‚Ä¶" id="searchInput" />
        </div>
        <button class="btn" id="newChatBtn" title="‡§®‡§Ø‡§æ ‡§ö‡•à‡§ü">+ New</button>
      </div>

      <div class="chat-list" id="chatList">
        <div class="chat-item active">
          <div class="avatar">AK</div>
          <div>
            <div class="ci-name">Aarav Kapoor</div>
            <div class="ci-last">See you at 6?</div>
          </div>
          <div class="ci-time">7:40 PM</div>
        </div>
        <div class="chat-item">
          <div class="avatar" style="background:linear-gradient(135deg,#22c55e,#10b981)">NP</div>
          <div>
            <div class="ci-name">Neha Patel</div>
            <div class="ci-last">Invoice shared ‚úÖ</div>
          </div>
          <div class="ci-time">5:02 PM</div>
        </div>
        <div class="chat-item">
          <div class="avatar" style="background:linear-gradient(135deg,#f59e0b,#ef4444)">TG</div>
          <div>
            <div class="ci-name">Team Group</div>
            <div class="ci-last">Standup in 10 min</div>
          </div>
          <div class="ci-time">4:51 PM</div>
        </div>
      </div>
    </aside>

    <!-- Chat -->
    <main class="chat" aria-label="Message thread">
      <header class="chat-head">
        <div class="user">
          <div class="avatar">AK</div>
          <div>
            <div style="font-weight:700">Aarav Kapoor</div>
            <div style="font-size:12px; color:var(--muted)">Online ‚Ä¢ Last seen just now</div>
          </div>
        </div>
        <div class="tools">
          <button class="btn" title="Audio Call">üìû</button>
          <button class="btn" title="Video Call">üé•</button>
          <button class="btn" id="clearBtn" title="Clear Chat">üßπ</button>
        </div>
      </header>

      <section class="messages" id="messages" tabindex="0" aria-live="polite">
        <div class="day-sep"><span>‡§Ü‡§ú</span></div>

        <div class="row them">
          <div class="bubble them">
            ‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§∂‡§æ‡§Æ ‡§ï‡•ã ‡§Æ‡§ø‡§≤ ‡§∞‡§π‡•á ‡§π‡•ã?
            <div class="meta">7:38 PM</div>
          </div>
        </div>
        <div class="row me">
          <div class="bubble me">
            ‡§π‡§æ‡§Å, 6 ‡§¨‡§ú‡•á ‡§ï‡•à‡§´‡§º‡•á ‡§Æ‡•á‡§Ç!
            <div class="meta">7:40 PM ‚Ä¢ Delivered</div>
          </div>
        </div>

        <div class="typing" id="typing">
          ‡§ï‡•ã‡§à ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </div>
      </section>

      <form class="composer" id="composer" autocomplete="off">
        <button type="button" class="ctrl" title="Attachment">üìé</button>
        <button type="button" class="ctrl" title="Emoji">üòä</button>
        <input id="msgInput" name="message" placeholder="‡§Ö‡§™‡§®‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≤‡§ø‡§ñ‡•á‡§Ç‚Ä¶" aria-label="Type your message" />
        <button class="send" type="submit" title="Send">Send ‚û§</button>
      </form>
    </main>
  </div>

  <script>
    const messages = document.getElementById('messages');
    const typing = document.getElementById('typing');
    const form = document.getElementById('composer');
    const input = document.getElementById('msgInput');
    const clearBtn = document.getElementById('clearBtn');
    const chatList = document.getElementById('chatList');
    const searchInput = document.getElementById('searchInput');
    const newChatBtn = document.getElementById('newChatBtn');

    function timeNow(){
      const d = new Date();
      let h = d.getHours(), m = d.getMinutes();
      const ampm = h >= 12 ? "PM" : "AM";
      h = h % 12 || 12;
      return `${h}:${m.toString().padStart(2,'0')} ${ampm}`;
    }

    function appendMessage(text, who='me'){
      const row = document.createElement('div');
      row.className = 'row ' + who;

      const bubble = document.createElement('div');
      bubble.className = 'bubble ' + (who === 'me' ? 'me' : 'them');
      bubble.textContent = text;

      const meta = document.createElement('div');
      meta.className = 'meta';
      meta.textContent = timeNow() + (who === 'me' ? ' ‚Ä¢ Sent' : '');
      bubble.appendChild(document.createElement('div')).replaceWith(meta);

      row.appendChild(bubble);
      messages.insertBefore(row, typing);
      messages.scrollTop = messages.scrollHeight;
    }

    // Send message
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const text = input.value.trim();
      if(!text) return;
      appendMessage(text,'me');
      input.value = '';
      simulateReply();
    });

    // Enter to send
    input.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' && !e.shiftKey){
        e.preventDefault();
        form.dispatchEvent(new Event('submit'));
      }
    });

    // Simulate typing + reply
    let replyTimer;
    function simulateReply(){
      clearTimeout(replyTimer);
      typing.style.display = 'flex';
      replyTimer = setTimeout(()=>{
        typing.style.display = 'none';
        const replies = [
          'Great! üëç','‡§†‡•Ä‡§ï ‡§π‡•à, ‡§Æ‡§ø‡§≤‡§§‡•á ‡§π‡•à‡§Ç‡•§','On my way!','Perfect üòä','Done.'
        ];
        appendMessage(replies[Math.floor(Math.random()*replies.length)], 'them');
      }, 900 + Math.random()*1200);
    }

    // Clear chat
    clearBtn.addEventListener('click', ()=>{
      document.querySelectorAll('.row').forEach(r=>r.remove());
    });

    // Sidebar: search filter
    searchInput.addEventListener('input', ()=>{
      const q = searchInput.value.toLowerCase();
      chatList.querySelectorAll('.chat-item').forEach(item=>{
        const name = item.querySelector('.ci-name').textContent.toLowerCase();
        item.style.display = name.includes(q) ? '' : 'none';
      });
    });

    // Sidebar: new chat demo
    newChatBtn.addEventListener('click', ()=>{
      const name = prompt('‡§®‡§è ‡§ö‡•à‡§ü ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç:', 'New Contact');
      if(!name) return;
      const item = document.createElement('div');
      item.className = 'chat-item';
      item.innerHTML = `
        <div class="avatar">${name.split(' ').map(s=>s[0]?.toUpperCase()||'').slice(0,2).join('')}</div>
        <div><div class="ci-name">${name}</div><div class="ci-last">Say hi üëã</div></div>
        <div class="ci-time">${timeNow()}</div>`;
      chatList.prepend(item);
    });

    // Accessibility: focus messages to read
    messages.addEventListener('keydown', (e)=>{
      if(e.key === 'Home') messages.scrollTop = 0;
      if(e.key === 'End') messages.scrollTop = messages.scrollHeight;
    });
  </script>
</body>
</html>
