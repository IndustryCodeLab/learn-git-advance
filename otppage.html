<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Enter OTP</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#06b6d4;--muted:#9ca3af;--white:#ffffff}
    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#071021 0%,#0b1220 100%);font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    .card{width:min(520px,96%);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:28px;border-radius:12px;color:var(--white);box-shadow:0 6px 24px rgba(2,6,23,0.7)}
    h1{margin:0 0 6px;font-size:20px}
    p.lead{margin:0 0 18px;color:var(--muted)}

    .otp-row{display:flex;gap:10px;justify-content:center;margin:18px 0}
    .otp-input{width:52px;height:60px;border-radius:8px;border:2px solid rgba(255,255,255,0.06);background:transparent;color:var(--white);font-size:24px;font-weight:600;line-height:1;text-align:center}
    .otp-input:focus{outline:none;border-color:var(--accent);box-shadow:0 6px 18px rgba(6,182,212,0.08);}

    .meta{display:flex;align-items:center;justify-content:space-between;margin-top:6px}
    button.primary{background:var(--accent);color:#042;border:0;padding:10px 14px;border-radius:8px;font-weight:600;cursor:pointer}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:8px 12px;border-radius:8px;cursor:pointer}
    .small{font-size:14px;color:var(--muted)}

    .timer{font-weight:600}
    .actions{display:flex;gap:8px}

    @media (max-width:420px){.otp-input{width:44px;height:52px;font-size:20px}}
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>Enter verification code</h1>
    <p class="lead">We sent a 6-digit code to <strong>+91 •••• 1513</strong>. Enter it below to verify your number.</p>

    <form id="otpForm" autocomplete="off">
      <div class="otp-row" role="group" aria-label="Enter 6 digit code">
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp-input" id="d0" aria-label="Digit 1">
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp-input" id="d1" aria-label="Digit 2">
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp-input" id="d2" aria-label="Digit 3">
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp-input" id="d3" aria-label="Digit 4">
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp-input" id="d4" aria-label="Digit 5">
        <input inputmode="numeric" pattern="[0-9]*" maxlength="1" class="otp-input" id="d5" aria-label="Digit 6">
      </div>

      <div class="meta">
        <div class="small">Didn't get it? <button type="button" id="resendBtn" class="ghost" aria-live="polite">Resend</button></div>
        <div class="small">Time left: <span id="timer" class="timer">00:30</span></div>
      </div>

      <div style="display:flex;justify-content:center;margin-top:18px;gap:10px">
        <button type="submit" class="primary">Verify</button>
        <button type="button" id="editBtn" class="ghost">Edit number</button>
      </div>
    </form>

    <p class="small" style="margin-top:14px;color:var(--muted)">Tip: You can paste the full OTP (e.g. from SMS) into any box and it'll auto-fill.</p>
  </main>

  <script>
    (function(){
      const inputs = Array.from(document.querySelectorAll('.otp-input'));
      const resendBtn = document.getElementById('resendBtn');
      const timerEl = document.getElementById('timer');
      const form = document.getElementById('otpForm');

      // focus first input on load
      inputs[0].focus();

      // handle input events (typing, arrow navigation, backspace)
      inputs.forEach((input, idx) => {
        input.addEventListener('input', (e) => {
          const val = e.target.value;
          // keep only digits
          if (!/^[0-9]$/.test(val)) {
            e.target.value = '';
            return;
          }
          // move focus to next
          if (idx < inputs.length - 1) inputs[idx + 1].focus();
        });

        input.addEventListener('keydown', (e) => {
          if (e.key === 'Backspace' && !e.target.value && idx > 0) {
            inputs[idx - 1].focus();
            inputs[idx - 1].value = '';
            e.preventDefault();
          } else if (e.key === 'ArrowLeft' && idx > 0) {
            inputs[idx - 1].focus();
            e.preventDefault();
          } else if (e.key === 'ArrowRight' && idx < inputs.length - 1) {
            inputs[idx + 1].focus();
            e.preventDefault();
          }
        });

        // allow pasting full OTP
        input.addEventListener('paste', (e) => {
          e.preventDefault();
          const paste = (e.clipboardData || window.clipboardData).getData('text');
          const digits = paste.replace(/\D/g, '').slice(0, inputs.length).split('');
          for (let i = 0; i < digits.length; i++) {
            inputs[i].value = digits[i];
          }
          const nextIndex = Math.min(digits.length, inputs.length - 1);
          inputs[Math.min(digits.length, inputs.length - 1)].focus();
        });
      });

      // simple timer for resend (30 seconds)
      let countdown = 30;
      let timerId;
      function startTimer() {
        resendBtn.disabled = true;
        resendBtn.style.opacity = '0.6';
        updateTimerDisplay(countdown);
        timerId = setInterval(() => {
          countdown--;
          if (countdown <= 0) {
            clearInterval(timerId);
            resendBtn.disabled = false;
            resendBtn.style.opacity = '1';
            timerEl.textContent = '00:00';
            resendBtn.textContent = 'Resend';
            return;
          }
          updateTimerDisplay(countdown);
        }, 1000);
      }
      function updateTimerDisplay(sec){
        const s = String(sec).padStart(2,'0');
        timerEl.textContent = `00:${s}`;
      }

      resendBtn.addEventListener('click', () => {
        // simulate resend action
        // In real app: make an API call to resend OTP
        countdown = 30;
        startTimer();
        // give user feedback
        resendBtn.textContent = 'Sent ✓';
        setTimeout(()=>{ resendBtn.textContent = 'Resend'; }, 1200);
      });

      // start initial timer
      startTimer();

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const code = inputs.map(i => i.value).join('');
        if (code.length !== inputs.length) {
          alert('Please enter the full 6-digit code.');
          return;
        }
        // In a real app: send `code` to your server for verification
        console.log('OTP submit:', code);
        alert('OTP submitted: ' + code);
      });

      document.getElementById('editBtn').addEventListener('click', ()=>{
        // In a real app: go back to phone edit screen
        alert('Go back to edit phone number');
      });

    })();
  </script>
</body>
</html>
